<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Git風バージョン管理システム</title>
    <link rel="stylesheet" href="index.css" />
    <script src="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.js"></script>
    <link
      href="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.css"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body>
    <div class="app-container">
      <!-- ヘッダー -->
      <header class="header">
        <div class="header-left">
          <h1 class="app-title">Git管理システム</h1>
          <div class="user-selector">
            <label for="currentUser">ユーザー:</label>
            <select id="currentUser">
              <option value="">ユーザーを選択</option>
            </select>
            <button id="addUserBtn" class="btn btn-small">新規ユーザー</button>
          </div>
        </div>
        <div class="header-right">
          <div class="repo-info">
            <span id="currentRepo">リポジトリ: 未選択</span>
            <span id="currentBranch">ブランチ: 未選択</span>
          </div>
        </div>
      </header>

      <div class="main-content">
        <!-- サイドバー -->
        <aside class="sidebar">
          <div class="sidebar-section">
            <h3>リポジトリ</h3>
            <div class="repo-controls">
              <button id="createRepoBtn" class="btn btn-primary">
                新規作成
              </button>
              <button id="cloneRepoBtn" class="btn">クローン</button>
            </div>
            <div class="repo-list" id="repoList">
              <!-- リポジトリリストがここに表示される -->
            </div>
          </div>

          <div class="sidebar-section">
            <h3>ブランチ</h3>
            <div class="branch-controls">
              <button id="createBranchBtn" class="btn btn-primary">
                新規作成
              </button>
              <button id="checkoutBtn" class="btn">チェックアウト</button>
            </div>
            <div class="branch-list" id="branchList">
              <!-- ブランチリストがここに表示される -->
            </div>
          </div>

          <div class="sidebar-section">
            <h3>Git操作</h3>
            <div class="git-controls">
              <button id="mergeBtn" class="btn">マージ</button>
              <button id="resetBtn" class="btn btn-danger">リセット</button>
            </div>
          </div>
        </aside>

        <!-- メインエリア -->
        <main class="main-area">
          <div class="tab-container">
            <div class="tabs">
              <button class="tab active" data-tab="files">ファイル</button>
              <button class="tab" data-tab="commit">コミット</button>
              <button class="tab" data-tab="history">履歴</button>
              <button class="tab" data-tab="graph">グラフ</button>
            </div>

            <!-- ファイルタブ -->
            <div class="tab-content active" id="files-tab">
              <div class="file-header">
                <div class="file-controls">
                  <button id="updateFileBtn" class="btn btn-primary">
                    ファイル更新
                  </button>
                  <button id="refreshFilesBtn" class="btn">更新</button>
                </div>
                <div class="file-path">
                  <span id="currentPath">/</span>
                </div>
              </div>
              <div class="file-list" id="fileList">
                <!-- ファイルリストがここに表示される -->
              </div>
              <div
                class="file-editor"
                id="fileEditorContainer"
                style="display: none"
              >
                <div class="editor-header">
                  <span id="editingFileName">ファイル名</span>
                  <div class="editor-controls">
                    <button id="commitFileBtn" class="btn btn-primary">
                      コミット
                    </button>
                    <button id="cancelEditBtn" class="btn">キャンセル</button>
                  </div>
                </div>
                <textarea
                  id="fileEditor"
                  placeholder="ファイル内容を入力してください..."
                ></textarea>
              </div>
            </div>

            <!-- コミットタブ -->
            <div class="tab-content" id="commit-tab">
              <div class="commit-section">
                <h3>変更をコミット</h3>
                <div class="staged-files" id="stagedFiles">
                  <h4>ステージングエリア</h4>
                  <div class="file-changes" id="fileChanges">
                    <!-- 変更されたファイルがここに表示される -->
                  </div>
                </div>
                <div class="commit-form">
                  <div class="form-group">
                    <label for="commitMessage">コミットメッセージ</label>
                    <textarea
                      id="commitMessage"
                      placeholder="変更内容を説明してください..."
                    ></textarea>
                  </div>
                  <button id="commitBtn" class="btn btn-primary">
                    コミット
                  </button>
                </div>
              </div>
            </div>

            <!-- 履歴タブ -->
            <div class="tab-content" id="history-tab">
              <div class="history-controls">
                <button id="refreshHistoryBtn" class="btn">更新</button>
                <select
                  id="historyBranchFilter"
                  aria-label="履歴ブランチフィルター"
                >
                  <option value="">すべてのブランチ</option>
                </select>
              </div>
              <div class="commit-history" id="commitHistory">
                <!-- コミット履歴がここに表示される -->
              </div>
            </div>

            <!-- グラフタブ -->
            <div class="tab-content" id="graph-tab">
              <div class="graph-controls">
                <button id="refreshGraphBtn" class="btn">更新</button>
                <div class="graph-options">
                  <label>
                    <input type="checkbox" id="showAllBranches" checked />
                    すべてのブランチを表示
                  </label>
                </div>
              </div>
              <div class="graph-container" id="graphContainer">
                <!-- コミットグラフがここに表示される -->
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- モーダルダイアログ -->
    <div class="modal" id="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modalTitle">タイトル</h3>
          <button class="modal-close" id="modalClose">&times;</button>
        </div>
        <div class="modal-body" id="modalBody">
          <!-- モーダルの内容がここに表示される -->
        </div>
        <div class="modal-footer">
          <button id="modalCancel" class="btn">キャンセル</button>
          <button id="modalConfirm" class="btn btn-primary">確認</button>
        </div>
      </div>
    </div>

    <script src="scripts.js"></script>
  </body>
</html>
